<div class="card">
  <div class="card-header d-flex justify-between align-center">
    <h2 class="text-primary">Avances</h2>
    <div class="d-flex gap-2">
      <button class="btn btn-outline" (click)="loadAvances()">Rafraîchir</button>
    </div>
  </div>
  <div class="card-body">
    <div *ngIf="loading" class="text-secondary">Chargement...</div>
    <div *ngIf="error" class="text-danger">{{ error }}</div>

    <div *ngIf="avances?.length; else empty">
      <div class="mission-list">
        <div class="mission-item" *ngFor="let a of avances">
          <div class="mission-info">
            <div class="mission-title">{{ a.mission?.titre || 'Mission' }}</div>
            <div class="mission-meta">
              <span>
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>
                {{ a.montant | number:'1.0-0' }} FCFA
              </span>
              <span>
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
                {{ a.dateVersement | date:'dd/MM/yyyy' }}
              </span>
            </div>
          </div>
          <span class="status-badge" [attr.data-status]="a.statut">{{ a.statut }}</span>
        </div>
      </div>
    </div>
    <ng-template #empty>
      <div class="empty-state">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>
        <p>Aucune avance trouvée</p>
      </div>
    </ng-template>
  </div>
</div>
